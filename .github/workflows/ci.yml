   name: ci tests

   on:
     pull_request:

   jobs:
    build:
      runs-on: macos-latest
      steps:
      - name: checkout repo
        uses: actions/checkout@v4
      - name: install cosmo
        run: |
            mkdir -p cosmocc
            cd cosmocc
            wget https://cosmo.zip/pub/cosmocc/cosmocc.zip
            unzip cosmocc.zip
            cd ..
            ls
            ./cosmocc/bin/make -j8 && make install
            cp /usr/local/bin/llamafile llamafile
            curl -o mistral.gguf https://huggingface.co/TheBloke/Mistral-7B-Instruct-v0.1-GGUF/resolve/main/mistral-7b-instruct-v0.1.Q4_K_M.gguf
            cat >.args <<EOL
            -m
            mistral.gguf
            ... 
            EOL
            zipalign -j0 \
              llamafile \
              mistral.gguf \
              .args
            llamafile --temp 0.7 --n-predict 50 -p '[INST]Write a story about llamas[/INST]'

